import jsonfrom datetime import datetimefrom MontyCloud.utils.logger import loggerfrom MontyCloud.app.image import Imagesclass UploadImage(Images):    def __init__(self, event, context):        super().__init__()        self.event = event        self.context = context    def perform_task(self):        try:            logger.info("Image uploading started")            # Extract request parameters from API Gateway event            body = json.loads(self.event["body"])            image_file = body["imageFile"]            metadata = {                "imageId": str(datetime.now().timestamp()),  # Generate Unique Image Id                "title": body["title"],                "tags": body["tags"],                "description": body["description"],                "uploadedAt": str(datetime.now())            }            # Upload image file to S3            s3_object_key = f"{metadata['imageId']}.jpg"            self.s3_client.put_object(Bucket=self.s3_bucket, Key=s3_object_key, Body=image_file)            # Save metadata to DynamoDB            self.dynamodb_client.put_item(                TableName=self.table_name,                Item={                    "imageId": {"S": metadata["imageId"]},                    "title": {"S": metadata["title"]},                    "tags": { "S": metadata["tags"] },                    "description": {"S": metadata["description"]},                    "uploadedAt": {"S": metadata["uploadedAt"]}                }            )            # Return success response            response = {                "statusCode": 200,                "body": json.dumps({"message": "Image uploaded successfully", "imageId": metadata["imageId"]})            }        except Exception as err:            logger.error(f"Image upload failed, Error: {err}")            # Return error response            response = {                "statusCode": 500,                "body": json.dumps({                    "message": "Image upload failed.",                    "error": str(err)})            }        return response