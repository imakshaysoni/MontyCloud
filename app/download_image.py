from MontyCloud.utils.logger import loggerimport jsonfrom MontyCloud.app.image import Imagesclass DownloadViewImage(Images):    def __init__(self, event, context):        super().__init__()        self.event = event        self.context= context    def perform_task(self):        try:            logger.info("Download image started.")            # Extract path parameter from API Gateway event            image_id = self.event['pathParameters']['imageId']            # Query DynamoDB for metadata            response = self.dynamodb_client.get_item(                TableName=self.table_name,                Key={'imageId': {'S': image_id}}            )            # Check if item exists            if 'Item' not in response:                return {                    'statusCode': 404,                    'body': json.dumps({'error': 'Image not found'})                }            # Retrieve S3 object key from metadata            s3_object_key = f"{image_id}.jpg"  # Example: Assuming object key is based on imageId            # Generate pre-signed URL for S3 object            s3_presigned_url = self.s3_client.generate_presigned_url(                'get_object',                Params={'Bucket': self.s3_bucket, 'Key': s3_object_key},                ExpiresIn=1800  # URL Expire after 1800 Seconds            )            # Return pre-designed url and http code 200            response = {                'statusCode': 200,                'body': json.dumps({'imageId': image_id, 'presignedUrl': s3_presigned_url})            }        except Exception as err:            logger.error(f"Download image failed, Error: {err}")            # Return error response            response = {                "statusCode": 500,                "body": json.dumps({                    "message": "Download Image failed.",                    "error": str(err)})            }        return response